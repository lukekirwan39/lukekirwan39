<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/ClientSide/html.html to edit this template
-->
<html>
    <head>
        <title>Display all Employees from the company</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script>
            // array of empployees
            let employees = [{forename:"Ann",surname:"Anglesey",role:"IT",salary:100000},
                             {forename:"Brian",surname:"Brown",role:"HR",salary:30000},
                             {forename:"Cathy", surname:"Connolly",role:"HR", salary:50000}, 
                             {forename:"Dennis", surname:"Doherty", role:"IT", salary:150000}, 
                             {forename:"Emma", surname:"Eagan", role:"HR", salary:40000}]
            
            
            function viewJSONData(currentEmployees)
            {
                // output the employees in a table in the div below
                let htmlString = `<table>`    
                
                // loop through the array
                currentEmployees.forEach(employee => {
                    console.log(employee.forename) // testing which piece of data I'm looking for
                    htmlString += `<tr>
                                        <td>${employee.forename}</td>
                                        <td>${employee.surname}</td>
                                        <td>${employee.role}</td>
                                        <td>${employee.salary}</td>
                                   </tr>`
                })
                
                htmlString += `</table>`
                document.getElementById("employees").innerHTML = htmlString
            }
            // add a filter
            function filterByRole(thisRole)
            {
                //filter and display
                let employeesWithRole = employees.filter(employee => employee.role === thisRole)
                
                viewJSONData(employeesWithRole)
            }
        </script>
    </head>
    <body onload="viewJSONData(employees)">
        <select onchange="filterByRole(this.value)">
            <option>IT</option>
            <option>HR</option>
        </select>
        <div id="employees">Employee data will display here</div>
    </body>
</html>
